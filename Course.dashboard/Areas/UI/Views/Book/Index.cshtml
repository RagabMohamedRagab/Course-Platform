@model DisplayBookViewModel;
@{
    ViewData["Title"] = "Book";
    int Current = Model.CurrentPage;
}
<style>
    .card-img-top {
        width: 100%;
        height: 12rem;
    }
</style>
<div class="products">
    <div class="container">
        <div class="col-md-12  products-right">
            <div class="products-right-grid">
                <div class="products-right-grids">
                    <div class="sorting">
                        <select id="country" onchange="change_country(this.value)" class="frm-field required sect">
                            <option value="null"><i class="fa fa-arrow-right" aria-hidden="true"></i>Default sorting</option>
                            <option value="null"><i class="fa fa-arrow-right" aria-hidden="true"></i>Sort by popularity</option>
                            <option value="null"><i cla-4]ss="fa fa-arrow-right" aria-hidden="true"></i>Sort by average rating</option>
                            <option value="null"><i class="fa fa-arrow-right" aria-hidden="true"></i>Sort by price</option>
                        </select>
                    </div>
                    <div class="sorting-left">
                        <select id="country1" onchange="change_country(this.value)" class="frm-field required sect">
                            <option value="null"><i class="fa fa-arrow-right" aria-hidden="true"></i>Item on page 9</option>
                            <option value="null"><i class="fa fa-arrow-right" aria-hidden="true"></i>Item on page 18</option>
                            <option value="null"><i class="fa fa-arrow-right" aria-hidden="true"></i>Item on page 32</option>
                            <option value="null"><i class="fa fa-arrow-right" aria-hidden="true"></i>All</option>
                        </select>
                    </div>
                    <div class="clearfix"> </div>
                </div>
            </div>




            <div class="agile_top_brands_grids">
                @foreach (var item in Model.Books.OrderBy(b => b.Name))
                {
                    <div class="col-md-4 top_brand_left" style="margin-bottom:20px">
                        <div class="hover14 column">
                            <div class="agile_top_brand_left_grid">
                                <div class="agile_top_brand_left_grid1">
                                    <figure>
                                        <div class="snipcart-item block">
                                            <div class="snipcart-thumb">
                                                <a href="single.html"><img title="@item.Name" alt="@item.Name" class="card-img-top" src="~/Images/Book/@item.Cover"></a>
                                                <p>@item.Name</p>
                                                <h4>$@item.Price <span>$@(item.Price + 10)</span></h4>
                                            </div>
                                            <div class="snipcart-details top_brand_home_details">
                                                <form action="#" method="post">
                                                    <fieldset>
                                                        <input type="hidden" name="cmd" value="_cart">
                                                        <input type="hidden" name="add" value="1">
                                                        <input type="hidden" name="business" value=" ">
                                                        <input type="hidden" name="item_name" value="@item.Name">
                                                        <input type="hidden" name="amount" value="@item.Price">
                                                        <input type="hidden" name="discount_amount" value="1.00">
                                                        <input type="hidden" name="currency_code" value="USD">
                                                        <input type="hidden" name="return" value=" ">
                                                        <input type="hidden" name="cancel_return" value=" ">
                                                        <input type="submit" name="submit" value="Add to cart" class="button">
                                                    </fieldset>
                                                </form>
                                            </div>
                                        </div>
                                    </figure>
                                </div>
                            </div>
                        </div>
                    </div>
                }


                <div class="clearfix"> </div>
            </div>
            <div class="clearfix"> </div>





            <nav class="numbering">

                <ul class="pagination" id="pag" style="font-size: 1.1rem;">
                    <li class="page-item @(Model.CurrentPage<=1?"disabled":"")">
                        <a class="page-link"
                           asp-area="UI"
                           asp-controller="Book"
                           asp-action="Index"
                           asp-route-Search="@Model.SearchBy"
                           asp-route-orderby="@Model.Orderby"
                           asp-route-currentPage="@(Model.CurrentPage-1)">Previous</a>
                    </li>

                    @if (Current == 1)
                    {
                        if (Current == Model.TotalPages)
                        {
                            for (int i = Current; i <= Model.TotalPages; i++)
                            {
                                <li class="page-item @(i==1?"active":"")">
                                    <a class="page-link"
                                       asp-area="UI"
                                       asp-controller="Book"
                                       asp-action="Index"
                                       asp-route-Search="@Model.SearchBy"
                                       asp-route-orderby="@Model.Orderby"
                                       asp-route-currentPage="@i">@i</a>
                                </li>
                            }
                        }
                        else if (Model.TotalPages < 3)
                        {
                            for (int i = Current; i < Current + 2; i++)
                            {
                                <li class="page-item @(i==1?"active":"")">
                                    <a class="page-link"
                                       asp-area="UI"
                                       asp-controller="Book"
                                       asp-action="Index"
                                       asp-route-Search="@Model.SearchBy"
                                       asp-route-orderby="@Model.Orderby"
                                       asp-route-currentPage="@i">@i</a>
                                </li>
                            }

                        }
                        else
                        {
                            for (int i = Current; i <= Current + 2; i++)
                            {
                                <li class="page-item @(i==1?"active":"")">
                                    <a class="page-link"
                                       asp-area="UI"
                                       asp-controller="Book"
                                       asp-action="Index"
                                       asp-route-Search="@Model.SearchBy"
                                       asp-route-orderby="@Model.Orderby"
                                       asp-route-currentPage="@i">@i</a>
                                </li>
                            }
                        }
                    }
                    else if (Model.TotalPages < 3)
                    {
                        for (int i = Current - 1; i <= Current; i++)
                        {
                            <li class="page-item @(Model.CurrentPage==i?"active":"")">
                                <a class="page-link"
                                   asp-area="UI"
                                   asp-controller="Book"
                                   asp-action="Index"
                                   asp-route-Search="@Model.SearchBy"
                                   asp-route-orderby="@Model.Orderby"
                                   asp-route-currentPage="@i">@i</a>
                            </li>
                        }
                    }
                    else if (Model.TotalPages >= 3)
                    {
                        if (Current == Model.TotalPages)
                        {
                            <li class="page-item @(Model.CurrentPage==Current-2?"active":"")">
                                <a class="page-link"
                                   asp-area="UI"
                                   asp-controller="Book"
                                   asp-action="Index"
                                   asp-route-Search="@Model.SearchBy"
                                   asp-route-orderby="@Model.Orderby"
                                   asp-route-currentPage="@(Current-2)">
                                    @(
                                        Current - 2
                                        )
                                </a>
                            </li>

                            <li class="page-item @(Model.CurrentPage==Current-1?"active":"")">
                                <a class="page-link"
                                   asp-area="UI"
                                   asp-controller="Book"
                                   asp-action="Index"
                                   asp-route-Search="@Model.SearchBy"
                                   asp-route-orderby="@Model.Orderby"
                                   asp-route-currentPage="@(Current-1)">
                                    @(
                                        Current - 1
                                        )
                                </a>
                            </li>
                            <li class="page-item @(Model.CurrentPage==Current?"active":"")">
                                <a class="page-link"
                                   asp-area="UI"
                                   asp-controller="Book"
                                   asp-action="Index"
                                   asp-route-Search="@Model.SearchBy"
                                   asp-route-orderby="@Model.Orderby"
                                   asp-route-currentPage="@(Current)">
                                    @(
                                        Current
                                        )
                                </a>
                            </li>

                        }
                        else
                        {
                            <li class="page-item @(Model.CurrentPage==Current-1?"active":"")">
                                <a class="page-link"
                                   asp-area="UI"
                                   asp-controller="Book"
                                   asp-action="Index"
                                   asp-route-Search="@Model.SearchBy"
                                   asp-route-orderby="@Model.Orderby"
                                   asp-route-currentPage="@(Current-1)">
                                    @(
                                        Current - 1
                                        )
                                </a>
                            </li>

                            <li class="page-item @(Model.CurrentPage==Current?"active":"")">
                                <a class="page-link"
                                   asp-area="UI"
                                   asp-controller="Book"
                                   asp-action="Index"
                                   asp-route-Search="@Model.SearchBy"
                                   asp-route-orderby="@Model.Orderby"
                                   asp-route-currentPage="@Current">@Current</a>
                            </li>
                            <li class="page-item @(Model.CurrentPage==Current+1?"active":"")">
                                <a class="page-link"
                                   asp-area="UI"
                                   asp-controller="Book"
                                   asp-action="Index"
                                   asp-route-Search="@Model.SearchBy"
                                   asp-route-orderby="@Model.Orderby"
                                   asp-route-currentPage="@(Current+1)">
                                    @(
                                        Current + 1
                                        )
                                </a>
                            </li>
                        }
                    }
                    <li class="page-item @(Model.CurrentPage==Model.TotalPages ? "disabled" : "")">
                        <a class="page-link"
                           asp-area="UI"
                           asp-controller="Book"
                           asp-action="Index"
                           asp-route-Search="@Model.SearchBy"
                           asp-route-orderby="@Model.Orderby"
                           asp-route-currentPage="@(Model.CurrentPage+1)">Next</a>
                    </li>
                </ul>


            </nav>
        </div>
        <div class="clearfix"> </div>
    </div>
</div>